<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Event Delegation</title>
</head>
<body>
	<pre>
		El <strong>Event Delegation</strong> nos evita agregar
		eventos a elementos específicos; en vez de eso, el
		evento se agrega a un elemento padre. Ese event listener
		analiza los elementos elevados (bubbling - de dentro
    hacia afuera) para hacer match con elementos hijos; lo
    que significa; que un eventos asociado a un nodo padre
    puede ser disparado por uno de sus nodos hijos gracias
    al mecanismo de propagación de eventos.
    [https://www.youtube.com/watch?v=bOd2HIDh7cU&list=PLeWI3XlFEVOWCfGbibNu7a6q3nhpnMW5t&index=2]
  </pre>
	<hr>
	<div class="books">
		<ul id="books">
			<li><a href="javascript:void(0);" id="book1">El Señor de los Anillos</a></li>
			<li><a href="javascript:void(0);" id="book2">El Hobbit</a></li>
			<li><a href="javascript:void(0);" id="book3">El Código Da Vinci</a></li>
			<li><a href="javascript:void(0);" id="book4">El Alquimista</a></li>
			<li><a href="javascript:void(0);" id="book5">Kain y Abel</a></li>
		</ul>
	</div>
	<hr>
	<pre>
		El método <strong>Element.matches()</strong> retorna true si el elemento fuese
		seleccionable por el selector CSS especificado en la cadena;
		en caso contrario, retorna false.
	</pre>
	<script type="text/javascript">
		(() => {
			'use strict';

			var books = document.querySelector('#books');

			books.addEventListener('click', (e) => {
				if (e.target) {
					if (e.target.matches('a#book4')) {
						console.info(`${e.target.innerText}, Comprar libro: https://www.amazon.com/El-Alquimista-Fabula-Seguir-Suenos/dp/0062511408`);
					} else {
						console.info(`${e.target.innerText}, fue clickeado (con event delegation)`);
					}
				}
			}, false);

			/*var book1 = document.querySelector('#book1');
			var book2 = document.querySelector('#book2');
			var book3 = document.querySelector('#book3');
			var book4 = document.querySelector('#book4');
			var book5 = document.querySelector('#book5');

			book1.addEventListener('click', () => {
				console.log(`${book1.innerText} fue clickeado.`);
			}, false);

			book2.addEventListener('click', () => {
				console.log(`${book2.innerText} fue clickeado.`);
			}, false);

			book3.addEventListener('click', () => {
				console.log(`${book3.innerText} fue clickeado.`);
			}, false);

			book4.addEventListener('click', () => {
				console.log(`${book4.innerText} fue clickeado.`);
			}, false);

			book5.addEventListener('click', () => {
				console.log(`${book5.innerText} fue clickeado.`);
			}, false);*/
		})();
	</script>
</body>
</html>
